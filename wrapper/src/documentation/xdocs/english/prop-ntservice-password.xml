<?xml version="1.0"?>

<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "../dtd/docbook/4.1.2/docbookx.dtd">

<!-- ********************************************************************
     $Id$
     ******************************************************************** -->

<chapter id="prop-ntservice-password">
    <title>wrapper.ntservice.password Property</title>
    <section>
        <title>Configuration Property Overview</title>
        <itemizedlist>
            <listitem>
                <ulink url="properties.html">Configuration Property Overview</ulink>
            </listitem>
            <listitem>
                <ulink url="props-nt.html">Windows NT/2000/XP Configuration Properties</ulink>
            </listitem>
            <listitem>
                <ulink url="properties.html#name">Property List by Name</ulink>
            </listitem>
        </itemizedlist>
    </section>
    <section>
        <title>wrapper.ntservice.password</title>
        <para>
            The password of the account specified in
            <ulink url="prop-ntservice-account.html">wrapper.ntservice.account</ulink>.
            If the account does not have a password, or if the LocalSystem
            account is being used, then this value can be blank.  The default
            is no password.
        </para>
        <informalexample>
            <simpara><emphasis>Example:</emphasis></simpara>
            <screen format="linespecific"><![CDATA[wrapper.ntservice.password=secret]]></screen>
        </informalexample>
        <note>
            <para>
                Changes to this property will not take effect until the
                service is reinstalled.
            </para>
        </note>
        <para>
            Some users have expressed concern about having a plain text password
            stored in the wrapper.conf file.  There are a few options available
            for avoiding this problem. The
            <literal moreinfo="none">wrapper.ntservice.password</literal> is not
            required once the Wrapper has been installed as a service.
        </para>
        <itemizedlist>
            <listitem>
                <para>
                    The most obvious solution is to simply delete the property
                    from the wrapper.conf file after the service has been installed.
                    This has the obvious drawback of requiring a user to manually
                    modify the file.
                </para>
            </listitem>
            <listitem>
                <para>
                    Another option is to create a second configuration file called
                    <literal moreinfo="none">password.conf</literal> as follows:
                </para>
                <informalexample>
                    <simpara><emphasis>password.conf</emphasis></simpara>
                    <screen format="linespecific"><![CDATA[wrapper.ntservice.password=secret]]></screen>
                </informalexample>
                <para>
                    The actual wrapper.conf file is then modified to include the
                    password file rather than declaring the property directly:
                </para>
                <informalexample>
                    <simpara><emphasis>wrapper.conf</emphasis></simpara>
                    <screen format="linespecific"><![CDATA[wrapper.ntservice.name=myapp
wrapper.ntservice.account=myuser
#include ../conf/password.conf]]></screen>
                </informalexample>
                <para>
                    See the <ulink url="props-cascading.html">Cascading Configuration Files</ulink>
                    page for a full explanation of how include files work.  The key point
                    is that they are optional, meaning that once the wrapper has been
                    installed as a service, the password file can simply be deleted.
                </para>
            </listitem>
            <listitem>
                <para>
                    A third option is to modify the batch file used to install the
                    Wrapper so that it prompts the user for a password and then
                    installs the Wrapper using the following command.
                </para>
                <informalexample>
                    <screen format="linespecific"><![CDATA[Wrapper.exe -i ..\conf\wrapper.conf wrapper.ntservice.password=%PASSWORD%]]></screen>
                </informalexample>
            </listitem>
        </itemizedlist>
    </section>
</chapter>
