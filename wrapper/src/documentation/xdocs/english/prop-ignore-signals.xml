<?xml version="1.0"?>

<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "../dtd/docbook/4.1.2/docbookx.dtd">

<!-- ********************************************************************
     $Id$
     ******************************************************************** -->

<chapter id="prop-ignore-signals">
    <title>wrapper.ignore_signals Property</title>
    <section>
        <title>Configuration Property Overview</title>
        <itemizedlist>
            <listitem>
                <ulink url="properties.html">Configuration Property Overview</ulink>
            </listitem>
            <listitem>
                <ulink url="props-advanced.html">Advanced Properties</ulink>
            </listitem>
            <listitem>
                <ulink url="properties.html#name">Property List by Name</ulink>
            </listitem>
        </itemizedlist>
    </section>
    <section>
        <title>wrapper.ignore_signals</title>
        <para>
            Controls whether or not the Wrapper should ignore system signals.
            If this is set to True, the Wrapper will not respond to HALT or INT
            signals on UNIX or CTRL-C events on Windows.  Defaults to false.
        </para>
        <para>
            Most users will not want to enable this property, but it is
            required by some users running in hostile environments who need
            to make sure that their applications never go down unless they
            are meant to.  In such cases, it is up to the user application
            to provide a way for the Java application to exit on its own.
            This is done by either calling <literal moreinfo="none">WrapperManager.stop()</literal>
            or <literal moreinfo="none">System.exit()</literal>.
        </para>
        <para>
            On Windows, SHUTDOWN and LOGOFF events are handled normally
            regardless of the value of this property.  The system would kill
            the application in any event should it fail to exit in a timely
            manner.  Note that LOGOFF events are always ignored if the
            Wrapper is running as an NT service.
        </para>
        <informalexample>
            <simpara><emphasis>Example:</emphasis></simpara>
            <screen format="linespecific"><![CDATA[wrapper.ignore_signals=true]]></screen>
        </informalexample>
        <note>
            <para>
                If you are planning on setting this property, It is suggested that you
                wait until your application's ability to reliably shutdown on its own
                has been fully tested.
            </para>
        </note>
        <warning>
            <simpara>
                If this property is set to true then you will not be able to
                tell the Wrapper to quit externally.  On Windows, CTRL-C will
                no longer function, and on UNIX systems CTRL-C or regular kill
                signals will also be ignored.  This means that on UNIX, the
                scripts provided with the Wrapper will not be able to stop the
                JVM.
            </simpara>
            <simpara>
                On UNIX, the process can still be forcibly stopped using a
                <literal moreinfo="none">kill -9</literal>, but doing so will
                kill the Wrapper but leave the JVM running.  The JVM will exit
                on its own after its ping timeout has expired but all console
                output after the Wrapper was killed will be lost.
            </simpara>
            <simpara>
                On Windows, the Wrapper and its JVM can be forcibly killed from
                the Task Manager if the Wrapper was run as a console application.
                If run as a service, the Wrapper can still be stopped normally.
            </simpara>
        </warning>
    </section>
</chapter>
