<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Java Service Wrapper Release Notes</title>
</head>
<body bgcolor="#ffffff" marginheight="4" marginwidth="4" leftmargin="4" topmargin="4" alink="#023264" vlink="#023264" link="#525D76" text="#000000">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top"><a href="http://www.silveregg.co.jp/"><img src="images/silveregg-logo.png" border="0" vspace="0" hspace="0"></a></td><td bgcolor="#ffffff" align="right" valign="bottom" width="100%"><font color="gray" face="arial,helvetica,sanserif" size="+3"><i><b>Java Service Wrapper</b></i></font></td>
</tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td bgcolor="gray" colspan="7"><img height="1" width="1" src="images/spacer.png"></td>
</tr>
<tr>
<td valign="top" width="5"><img height="1" width="5" src="images/spacer.png"></td><td nowrap="1" valign="top" width="150">
<br>
<font face="arial,helvetica,sanserif">
<br>
<br>
<font size="+1" color="#000000">Documentation</font>
<br>
<font size="-1">
<ul>
<li>
<a href="introduction.html"><font size="-1">Introduction</font></a>
</li>
<li>
<a href="example.html"><font size="-1">Example</font></a>
</li>
<li>
<a href="api-overview.html"><font size="-1">API Overview</font></a>
</li>
<li>
<a href="config-overview.html"><font size="-1">Configuration Overview</font></a>
</li>
<li>
<a href="launch-overview.html"><font size="-1">Launching Your Application</font></a>
</li>
<li>
<a href="release-notes.html"><font size="-1">Release Notes</font></a>
</li>
<li>
<a href="debugging.html"><font size="-1">Debugging Your Application</font></a>
</li>
<li>
<a href="samples.html"><font size="-1">Integration Samples</font></a>
</li>
<li>
<a href="faq.html"><font size="-1">FAQ</font></a>
</li>
<li>
<a href="troubleshooting.html"><font size="-1">Troubleshooting</font></a>
</li>
<li>
<a href="javadocs.html"><font size="-1">JavaDocs API</font></a>
</li>
</ul>
</font>
<br>
<br>
<font size="+1" color="#000000">Users</font>
<br>
<font size="-1">
<ul>
<li>
<a href="users.html"><font size="-1">Users of Wrapper</font></a>
</li>
</ul>
</font>
<br>
<br>
<font size="+1" color="#000000">Download</font>
<br>
<font size="-1">
<ul>
<li>
<a href="http://sourceforge.net/project/showfiles.php?group_id=39428"><font size="-1">Binaries</font></a>
</li>
<li>
<a href="http://sourceforge.net/project/showfiles.php?group_id=39428"><font size="-1">Source Code</font></a>
</li>
</ul>
</font>
<br>
<br>
<font size="+1" color="#000000">Get Involved</font>
<br>
<font size="-1">
<ul>
<li>
<a href="http://sourceforge.net/projects/wrapper/"><font size="-1">Source Forge</font></a>
</li>
<li>
<a href="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/wrapper/"><font size="-1">CVS Repository</font></a>
</li>
<li>
<a href="http://sourceforge.net/forum/?group_id=39428"><font size="-1">Public Forums</font></a>
</li>
<li>
<a href="http://sourceforge.net/tracker/?group_id=39428"><font size="-1">Issue Tracking</font></a>
</li>
<li>
<a href="authors.html"><font size="-1">Authors</font></a>
</li>
<li>
<a href="license.html"><font size="-1">License</font></a>
</li>
</ul>
</font>
<br>
<br>
                        Hosted by:<br>
<A href="http://sourceforge.net/projects/wrapper/"><IMG alt="SourceForge Logo" border="0" height="31" width="88" src="http://sourceforge.net/sflogo.php?group_id=39428"></A>
<br>
</font></td><td valign="top" width="2"><img height="1" width="2" src="images/spacer.png"></td><td bgcolor="gray" valign="top" width="1"><img height="1" width="1" src="images/spacer.png"></td><td valign="top" width="10"><img height="1" width="10" src="images/spacer.png"></td><td align="left" valign="top" width="*">
<br>
<title>Java Service Wrapper Release Notes</title>
<center>
<table width="80%">
<tr>
<td bgcolor="#F3DD61">
<br>
<center>
<b><font face="arial,helvetica,sanserif" color="#000000">Java Service Wrapper Release Notes</font></b>
</center>
<br>
</td>
</tr>
</table>
</center>
<br>
    
    
<div>
<a name="N400A2B"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.9: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Added a new property, wrapper.restart.delay, which allows the user to control
                    the amount of time to pause between a JVM exiting and a new JVM being
                    launched.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Fixed bug #611024. The Wrapper would sometimes fail to start if
                    wrapper.max_failed_invocations is set to 1.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Fix a problem where the number of non-daemon threads was not being calculated
                    in some cases.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400A46"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.8: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Fixed a compiler problem on Solaris some systems.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added a new property, wrapper.cpu.timeout, which allows the user to control
                    how much time without receiving any CPU the Wrapper will tolerate before
                    displaying a warning message.  The CPU timeout feature was added in 2.2.7
                    but the default timeout of 10 seconds was not configurable.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    The Wrapper was only allowing 5 seconds between the JVM informing the
                    Wrapper that it was going to exit and the JVM process actually exiting.
                    This would cause the Wrapper to terminate the process prematurely in
                    cases where an application shutdown thread took longer than 5 seconds to
                    complete.  The Wrapper not allows wrapper.jvm_exit.timeout seconds for
                    the JVM process to exit on its own before being forcibly terminated.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    When there is a configuration problem or a resource is unavailable, a JVM
                    will sometimes exit abnormally very shortly after being launched.  This
                    can lead the the JVM being infinitely restarted due to a simple class
                    path misconfiguration.  To work around this, the Wrapper has always had
                    a hard limit of 5 restarts within a short period of time.  If the JVM
                    has been running for more than a few minutes, then the count was reset.
                    In this version, a new property. wrapper.max_failed_invocations was added
                    to allow the max value to be set.   The time period which the JVM must
                    now be running for the JVM launch to have been considered a success for
                    restart purposes is set using the new wrapper.successful_invocation_time
                    property.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    The number of advanced properties which most users do not need has been
                    increasing as the Wrapper has been made more and more flexible.  This
                    has been causing confusion in their usage by people who play with them
                    without first reading the documentation.  To solve this, the advanced
                    properties were removed from the default configuration file.  They still
                    function.  But users must now read to the advanced configuration
                    documentation to learn about their existence.  Added quite about to the
                    descriptions of these properties to hopefully clear up any confusion
                    about thier usage.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    When the JVM exits abnormally, the Wrapper will pause for a few seconds
                    before starting another JVM.  If the user pressed CTRL-C during this
                    pause, a new JVM would still be launched.  The new JVM was exiting
                    immediately but it was a waste of time.  The Wrapper now recognizes the
                    event and aborts launching the new JVM.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added a page to the documentation which shows inline javadocs.  This
                    will hopefully make it easier to navigate them as part of the full
                    documentation set.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added a new method to the WrapperManager which enables user code to
                    log at any log level.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added a new Helper class WrapperStartStopApp which allows users to easily
                    integrate applications like Tomcat which use a separate class to stop
                    the application.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added a samples section to the documentation.  Just includes Tomcat 4
                    for now.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400A8B"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.7: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Fix a problem where the JVM was trying to reconnect the Wrapper as it was being shutdown.  This was causing problems if the JVM was being restarted.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added support for the system being suspended to RAM or disk.  Also improved wrapper performance when a system is under 100% load.  See the new example output in the <a href="example.html">example</a> section. 
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Fix a problem where the log output was not being directed to a file called wrapper.log in the same directory as the Wrapper binary in the event that the configured wrapper log file could not be accessed.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Fix a problem where the Wrapper was not shutting down the JVM correctly when all non daemon threads completed.   Normally a JVM will exit when all of its non daemon threads have completed so this was causing some problems.  (Thanks to Jung Tamas)
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added the ability to set the priority of the Wrapper and its JVM when run as an NT service or console application.  The same thing can be better achieved on Unix systems by using "nice" in the shell script used to launch the Wrapper.  See the documentation for for details.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    JVM information was not being displayed correctly when the Wrapper native library could not be loaded.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added a new property to cause the wrapper to attempt to request a thread dump when the JVM does not exit on request.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Improved the documentation of the WrapperSimpleApp and WrapperListener classes.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Adding a new property wrapper.shutdown.timeout to allow the user to extend the length of time that an application is allowed to take shutting down.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Rework the way the shutdown process works so that System.exit will never be called before the stop method in WrapperListener has had a chance to complete.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Add a Restart button to the TestWrapper application.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Fix a problem on Unix versions where '%' characters in Java output would sometimes cause the wrapper to crash.  Somehow missed getting this into the last release.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added a test to make sure that WrapperManager.stop is not called recursively.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added support for building under Windows XP.  Prebuilt installations had already been working.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400AEC"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.6: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Fix a problem where '%' characters in Java output would sometimes cause the wrapper to crash.  (Thanks to Frode Moe)
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added support for requesting a Java thread dump without shutting down the Java process.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Fixed a problem on windows where the java command was looking in the windows system and system32 directories for the java executable before checking the path when the full path to the java executable was not specified in the configuration file.  This could lead to different JVM being run from the Wrapper than was run if java -version was run from the command line.  The Wrapper will now attempt to resolve the full java path using the PATH environment variable.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added debug output showing Java version information when the JVM first starts.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Modified c source to use /* */ style comments rather than // style comments.  Some people were having problems with some compilers.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400B13"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.5: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Fixed bug issue when reading config files from Windows on Unix.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Deprecated the wrapper.debug property in favor of loglevels.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added support for service descriptions for Win2k and XP.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added new logger functionality includes the following features: Loglevels like Log4j, NT Eventlog support, UNIX syslog support and rolling log files.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added wildcard support for classpath entries in wrapper.conf.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added the ability to specify configuration properties from the command line.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Changed the way NT services are installed so that a patched version of the Wrapper.exe file no longer needs to be created to reference the wrapper.conf file.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400B46"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.4: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    The value of APP_NAME in the bash or sh scripts no longer needs to be the same as the script.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added the ablility to format and/or disable file logging and output to the console.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Set mode of executables in binary release tar files so that they can be run without modification after being extracted.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Fixed line feeds in release so that bat files are always CRLF, unix scripts are always LF.  Other source files are always CRLF in ZIP archives and LF in tar.gz archives.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Make the build fail if Wrapper.exe or Wrapper.dll do not exist for Windows builds.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added an empty wrapper.log to the releases so that the TestWrapper example program runs out of the box.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400B73"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.3: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Added template scripts and conf files for ease of integration with other applications.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Cleaned up the build.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    The WrapperSimpleApp method of launchine applications was not working correctly with applications whose main method did not return.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Add sample scripts and wrapper.conf files in the bin and lib directories.  These scripts are used to start a sample application which runs out of the box.  See the new <a href="example.html">example.html</a> page in the documentation for more details.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Get rid of the platform specific directories in the bin and lib directories.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Enable relative paths for Windows version.  In previous versions of Wrapper, it was necessary to always use absolute paths because the working directory of the wrapper would be then NT System32 directory when run as a service.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    On the windows version, the wrapper always sets the current working directory to the location of the wrapper executable immediately after startup.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Improvements to the documentation / web page.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400BB0"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.2: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Added HTML based documentation.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400BBF"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.1: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Added Linux and Solaris build files.
                </p>
            
</li>
            
<li>
                
<p align="justify">
                    Added Linux and Solaris documentation.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>
    
<div>
<a name="N400BD4"></a>
<table cellspacing="0" cellpadding="2" border="0" width="100%">
<tr>
<td bgcolor="#525D76"><font face="arial,helvetica,sanserif" color="#ffffff" size="+1"><b>Version 2.2.0: Changes and bugfixes</b></font></td>
</tr>
<tr>
<td><font face="arial,helvetica,sanserif" color="#000000">
<br>
        
        
<ul>
            
<li>
                
<p align="justify">
                    Initial Public Release.
                </p>
            
</li>
        
</ul>
    
</font></td>
</tr>
</table>
</div>
<br>

</td><td valign="top" width="5"><img height="1" width="5" src="images/spacer.png"></td>
</tr>
<tr>
<td bgcolor="gray" colspan="7"><img height="1" width="1" src="images/spacer.png"></td>
</tr>
</table>
<table cellpadding="0" cellspacing="0" border="0" width="100%">
<tr>
<td align="left"><font color="#525D76" size="-1" face="arial,helvetica,sanserif"><i>
                            Copyright &copy;2000-2001 by Silver Egg Technology Co., Ltd.
                            All Rights Reserved.
                        </i></font></td><td align="right"><font color="#525D76" size="-1" face="arial,helvetica,sanserif"><i>
                            last modified:
                            <script language="JavaScript">
                                <!-- 
                                document.write(document.lastModified); 
                                //  -->
                            </script></i></font></td>
</tr>
</table>
</body>
</html>
